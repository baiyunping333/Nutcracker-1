<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Nutcracker: treap.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.2 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<h1>treap.hpp</h1>  </div>
</div>
<div class="contents">
<div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">// (C) Copyright Ion Gaztanaga 2008</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">// Distributed under the Boost Software License, Version 1.0.</span>
<a name="l00006"></a>00006 <span class="comment">//    (See accompanying file LICENSE_1_0.txt or copy at</span>
<a name="l00007"></a>00007 <span class="comment">//          http://www.boost.org/LICENSE_1_0.txt)</span>
<a name="l00008"></a>00008 <span class="comment">//</span>
<a name="l00009"></a>00009 <span class="comment">// See http://www.boost.org/libs/intrusive for documentation.</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00012"></a>00012 <span class="comment"></span><span class="preprocessor">#ifndef BOOST_INTRUSIVE_TRIE_HPP</span>
<a name="l00013"></a>00013 <span class="preprocessor"></span><span class="preprocessor">#define BOOST_INTRUSIVE_TRIE_HPP</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;boost/intrusive/detail/config_begin.hpp&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;algorithm&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;cstddef&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;functional&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;iterator&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;utility&gt;</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;boost/intrusive/detail/assert.hpp&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;boost/static_assert.hpp&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;boost/intrusive/intrusive_fwd.hpp&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;boost/intrusive/bs_set_hook.hpp&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;boost/intrusive/detail/tree_node.hpp&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;boost/intrusive/detail/ebo_functor_holder.hpp&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;boost/intrusive/detail/pointer_to_other.hpp&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;boost/intrusive/detail/clear_on_destructor_base.hpp&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;boost/intrusive/options.hpp&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;boost/intrusive/detail/mpl.hpp&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;boost/intrusive/treap_algorithms.hpp&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;boost/intrusive/link_mode.hpp&gt;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &lt;boost/intrusive/priority_compare.hpp&gt;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="keyword">namespace </span>boost {
<a name="l00037"></a>00037 <span class="keyword">namespace </span>intrusive {
<a name="l00038"></a>00038 
<a name="l00040"></a>00040 
<a name="l00041"></a>00041 <span class="keyword">template</span> &lt;<span class="keyword">class</span> ValueTraits, <span class="keyword">class</span> Compare, <span class="keyword">class</span> PrioCompare, <span class="keyword">class</span> SizeType, <span class="keywordtype">bool</span> ConstantTimeSize&gt;
<a name="l00042"></a>00042 <span class="keyword">struct </span>treap_setopt
<a name="l00043"></a>00043 {
<a name="l00044"></a>00044    <span class="keyword">typedef</span> ValueTraits  value_traits;
<a name="l00045"></a>00045    <span class="keyword">typedef</span> Compare      compare;
<a name="l00046"></a>00046    <span class="keyword">typedef</span> PrioCompare  priority_compare;
<a name="l00047"></a>00047    <span class="keyword">typedef</span> SizeType     size_type;
<a name="l00048"></a>00048    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> constant_time_size = ConstantTimeSize;
<a name="l00049"></a>00049 };
<a name="l00050"></a>00050 
<a name="l00051"></a>00051 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00052"></a>00052 <span class="keyword">struct </span>treap_set_defaults
<a name="l00053"></a>00053    :  pack_options
<a name="l00054"></a>00054       &lt; none
<a name="l00055"></a>00055       , base_hook&lt;detail::default_bs_set_hook&gt;
<a name="l00056"></a>00056       , constant_time_size&lt;true&gt;
<a name="l00057"></a>00057       , size_type&lt;std::size_t&gt;
<a name="l00058"></a>00058       , compare&lt;std::less&lt;T&gt; &gt;
<a name="l00059"></a>00059       , priority&lt;boost::intrusive::priority_compare&lt;T&gt; &gt;
<a name="l00060"></a>00060       &gt;::type
<a name="l00061"></a>00061 {};
<a name="l00062"></a>00062 
<a name="l00064"></a>00064 
<a name="l00078"></a>00078 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l00079"></a>00079 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l00080"></a>00080 <span class="preprocessor">#else</span>
<a name="l00081"></a>00081 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Config&gt;
<a name="l00082"></a>00082 <span class="preprocessor">#endif</span>
<a name="l00083"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">00083</a> <span class="preprocessor"></span><span class="keyword">class </span><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a>
<a name="l00084"></a>00084    :  <span class="keyword">private</span> detail::clear_on_destructor_base&lt;treap_impl&lt;Config&gt; &gt;
<a name="l00085"></a>00085 {
<a name="l00086"></a>00086    <span class="keyword">template</span>&lt;<span class="keyword">class</span> C&gt; <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classboost_1_1intrusive_1_1detail_1_1clear__on__destructor__base.html">detail::clear_on_destructor_base</a>;
<a name="l00087"></a>00087    <span class="keyword">public</span>:
<a name="l00088"></a>00088    <span class="keyword">typedef</span> <span class="keyword">typename</span> Config::value_traits                             value_traits;
<a name="l00090"></a>00090    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> external_value_traits =
<a name="l00091"></a>00091       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1external__value__traits__is__true.html">detail::external_value_traits_is_true&lt;value_traits&gt;::value</a>;
<a name="l00092"></a>00092    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structboost_1_1intrusive_1_1detail_1_1eval__if__c.html">detail::eval_if_c</a>
<a name="l00093"></a>00093       &lt; external_value_traits
<a name="l00094"></a>00094       , detail::eval_value_traits&lt;value_traits&gt;
<a name="l00095"></a>00095       , <a class="code" href="structboost_1_1intrusive_1_1detail_1_1identity.html">detail::identity&lt;value_traits&gt;</a>
<a name="l00096"></a>00096       &gt;::type                                                        real_value_traits;
<a name="l00098"></a>00098    <span class="keyword">typedef</span> <span class="keyword">typename</span> real_value_traits::pointer                       pointer;
<a name="l00099"></a>00099    <span class="keyword">typedef</span> <span class="keyword">typename</span> real_value_traits::const_pointer                 const_pointer;
<a name="l00100"></a>00100    <span class="keyword">typedef</span> <span class="keyword">typename</span> std::iterator_traits&lt;pointer&gt;::value_type        value_type;
<a name="l00101"></a>00101    <span class="keyword">typedef</span> value_type                                                key_type;
<a name="l00102"></a>00102    <span class="keyword">typedef</span> <span class="keyword">typename</span> std::iterator_traits&lt;pointer&gt;::reference         reference;
<a name="l00103"></a>00103    <span class="keyword">typedef</span> <span class="keyword">typename</span> std::iterator_traits&lt;const_pointer&gt;::reference   const_reference;
<a name="l00104"></a>00104    <span class="keyword">typedef</span> <span class="keyword">typename</span> std::iterator_traits&lt;pointer&gt;::difference_type   difference_type;
<a name="l00105"></a>00105    <span class="keyword">typedef</span> <span class="keyword">typename</span> Config::size_type                                size_type;
<a name="l00106"></a>00106    <span class="keyword">typedef</span> <span class="keyword">typename</span> Config::compare                                  value_compare;
<a name="l00107"></a>00107    <span class="keyword">typedef</span> <span class="keyword">typename</span> Config::priority_compare                         priority_compare;
<a name="l00108"></a>00108    <span class="keyword">typedef</span> value_compare                                             key_compare;
<a name="l00109"></a>00109    <span class="keyword">typedef</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">tree_iterator&lt;treap_impl, false&gt;</a>                           <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>;
<a name="l00110"></a>00110    <span class="keyword">typedef</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">tree_iterator&lt;treap_impl, true&gt;</a>                            <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a>;
<a name="l00111"></a>00111    <span class="keyword">typedef</span> std::reverse_iterator&lt;iterator&gt;                           reverse_iterator;
<a name="l00112"></a>00112    <span class="keyword">typedef</span> std::reverse_iterator&lt;const_iterator&gt;                     const_reverse_iterator;
<a name="l00113"></a>00113    <span class="keyword">typedef</span> <span class="keyword">typename</span> real_value_traits::node_traits                   node_traits;
<a name="l00114"></a>00114    <span class="keyword">typedef</span> <span class="keyword">typename</span> node_traits::node                                node;
<a name="l00115"></a>00115    <span class="keyword">typedef</span> <span class="keyword">typename</span> boost::pointer_to_other
<a name="l00116"></a>00116       &lt;pointer, node&gt;::type                                          node_ptr;
<a name="l00117"></a>00117    <span class="keyword">typedef</span> <span class="keyword">typename</span> boost::pointer_to_other
<a name="l00118"></a>00118       &lt;node_ptr, <span class="keyword">const</span> node&gt;::type                                   const_node_ptr;
<a name="l00119"></a>00119    <span class="keyword">typedef</span> <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html">treap_algorithms&lt;node_traits&gt;</a>                             <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html">node_algorithms</a>;
<a name="l00120"></a>00120 
<a name="l00121"></a>00121    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="structboost_1_1intrusive_1_1constant__time__size.html">constant_time_size</a> = Config::constant_time_size;
<a name="l00122"></a>00122    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">bool</span> stateful_value_traits = <a class="code" href="structboost_1_1intrusive_1_1detail_1_1is__stateful__value__traits.html">detail::is_stateful_value_traits&lt;real_value_traits&gt;::value</a>;
<a name="l00123"></a>00123 
<a name="l00125"></a>00125    <span class="keyword">private</span>:
<a name="l00126"></a>00126    <span class="keyword">typedef</span> <a class="code" href="structboost_1_1intrusive_1_1detail_1_1size__holder.html">detail::size_holder&lt;constant_time_size, size_type&gt;</a>        size_traits;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128    <span class="comment">//noncopyable</span>
<a name="l00129"></a>00129    <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a301af544273a2b3e929db8b898f6caaf">treap_impl</a> (<span class="keyword">const</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a>&amp;);
<a name="l00130"></a>00130    <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a> operator =(<span class="keyword">const</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a>&amp;);
<a name="l00131"></a>00131 
<a name="l00132"></a>00132    <span class="keyword">enum</span> { safemode_or_autounlink  = 
<a name="l00133"></a>00133             (int)real_value_traits::link_mode == (<span class="keywordtype">int</span>)auto_unlink   ||
<a name="l00134"></a>00134             (int)real_value_traits::link_mode == (<span class="keywordtype">int</span>)safe_link     };
<a name="l00135"></a>00135 
<a name="l00136"></a>00136    <span class="comment">//Constant-time size is incompatible with auto-unlink hooks!</span>
<a name="l00137"></a>00137    BOOST_STATIC_ASSERT(!(<a class="code" href="structboost_1_1intrusive_1_1constant__time__size.html">constant_time_size</a> &amp;&amp; ((<span class="keywordtype">int</span>)real_value_traits::link_mode == (<span class="keywordtype">int</span>)auto_unlink)));
<a name="l00138"></a>00138 
<a name="l00139"></a>00139    <span class="keyword">struct </span>header_plus_size : <span class="keyword">public</span> size_traits
<a name="l00140"></a>00140    {  node header_;  };
<a name="l00141"></a>00141 
<a name="l00142"></a>00142    <span class="keyword">struct </span>node_plus_pred_t : <span class="keyword">public</span> detail::ebo_functor_holder&lt;value_compare&gt;
<a name="l00143"></a>00143    {
<a name="l00144"></a>00144       node_plus_pred_t(<span class="keyword">const</span> value_compare &amp;comp, <span class="keyword">const</span> priority_compare &amp;p_comp)
<a name="l00145"></a>00145          :  <a class="code" href="classboost_1_1intrusive_1_1detail_1_1ebo__functor__holder.html">detail::ebo_functor_holder&lt;value_compare&gt;</a>(comp)
<a name="l00146"></a>00146          ,  header_plus_priority_size_(p_comp)
<a name="l00147"></a>00147       {}
<a name="l00148"></a>00148       <span class="keyword">struct </span>header_plus_priority_size
<a name="l00149"></a>00149          : <span class="keyword">public</span> detail::ebo_functor_holder&lt;priority_compare&gt;
<a name="l00150"></a>00150       {
<a name="l00151"></a>00151          header_plus_priority_size(<span class="keyword">const</span> priority_compare &amp;p_comp)
<a name="l00152"></a>00152             :  <a class="code" href="classboost_1_1intrusive_1_1detail_1_1ebo__functor__holder.html">detail::ebo_functor_holder&lt;priority_compare&gt;</a>(p_comp)
<a name="l00153"></a>00153          {}
<a name="l00154"></a>00154          header_plus_size header_plus_size_;
<a name="l00155"></a>00155       }  header_plus_priority_size_;
<a name="l00156"></a>00156    };
<a name="l00157"></a>00157 
<a name="l00158"></a>00158    <span class="keyword">struct </span>data_t : <span class="keyword">public</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a>::value_traits
<a name="l00159"></a>00159    {
<a name="l00160"></a>00160       <span class="keyword">typedef</span> <span class="keyword">typename</span> treap_impl::value_traits value_traits;
<a name="l00161"></a>00161       data_t(<span class="keyword">const</span> value_compare &amp; comp, <span class="keyword">const</span> priority_compare &amp;pcomp, <span class="keyword">const</span> value_traits &amp;val_traits)
<a name="l00162"></a>00162          :  value_traits(val_traits), node_plus_pred_(comp, pcomp)
<a name="l00163"></a>00163       {}
<a name="l00164"></a>00164       node_plus_pred_t node_plus_pred_;
<a name="l00165"></a>00165    } data_;
<a name="l00166"></a>00166   
<a name="l00167"></a>00167    <span class="keyword">const</span> value_compare &amp;priv_comp()<span class="keyword"> const</span>
<a name="l00168"></a>00168 <span class="keyword">   </span>{  <span class="keywordflow">return</span> data_.node_plus_pred_.get();  }
<a name="l00169"></a>00169 
<a name="l00170"></a>00170    value_compare &amp;priv_comp()
<a name="l00171"></a>00171    {  <span class="keywordflow">return</span> data_.node_plus_pred_.get();  }
<a name="l00172"></a>00172 
<a name="l00173"></a>00173    <span class="keyword">const</span> priority_compare &amp;priv_pcomp()<span class="keyword"> const</span>
<a name="l00174"></a>00174 <span class="keyword">   </span>{  <span class="keywordflow">return</span> data_.node_plus_pred_.header_plus_priority_size_.get();  }
<a name="l00175"></a>00175 
<a name="l00176"></a>00176    priority_compare &amp;priv_pcomp()
<a name="l00177"></a>00177    {  <span class="keywordflow">return</span> data_.node_plus_pred_.header_plus_priority_size_.get();  }
<a name="l00178"></a>00178 
<a name="l00179"></a>00179    <span class="keyword">const</span> node &amp;priv_header()<span class="keyword"> const</span>
<a name="l00180"></a>00180 <span class="keyword">   </span>{  <span class="keywordflow">return</span> data_.node_plus_pred_.header_plus_priority_size_.header_plus_size_.header_;  }
<a name="l00181"></a>00181 
<a name="l00182"></a>00182    node &amp;priv_header()
<a name="l00183"></a>00183    {  <span class="keywordflow">return</span> data_.node_plus_pred_.header_plus_priority_size_.header_plus_size_.header_;  }
<a name="l00184"></a>00184 
<a name="l00185"></a>00185    <span class="keyword">static</span> node_ptr uncast(const_node_ptr ptr)
<a name="l00186"></a>00186    {
<a name="l00187"></a>00187       <span class="keywordflow">return</span> node_ptr(const_cast&lt;node*&gt;(detail::boost_intrusive_get_pointer(ptr)));
<a name="l00188"></a>00188    }
<a name="l00189"></a>00189 
<a name="l00190"></a>00190    size_traits &amp;priv_size_traits()
<a name="l00191"></a>00191    {  <span class="keywordflow">return</span> data_.node_plus_pred_.header_plus_priority_size_.header_plus_size_;  }
<a name="l00192"></a>00192 
<a name="l00193"></a>00193    <span class="keyword">const</span> size_traits &amp;priv_size_traits()<span class="keyword"> const</span>
<a name="l00194"></a>00194 <span class="keyword">   </span>{  <span class="keywordflow">return</span> data_.node_plus_pred_.header_plus_priority_size_.header_plus_size_;  }
<a name="l00195"></a>00195 
<a name="l00196"></a>00196    <span class="keyword">const</span> real_value_traits &amp;get_real_value_traits(<a class="code" href="structboost_1_1intrusive_1_1detail_1_1bool__.html">detail::bool_&lt;false&gt;</a>)<span class="keyword"> const</span>
<a name="l00197"></a>00197 <span class="keyword">   </span>{  <span class="keywordflow">return</span> data_;  }
<a name="l00198"></a>00198 
<a name="l00199"></a>00199    <span class="keyword">const</span> real_value_traits &amp;get_real_value_traits(<a class="code" href="structboost_1_1intrusive_1_1detail_1_1bool__.html">detail::bool_&lt;true&gt;</a>)<span class="keyword"> const</span>
<a name="l00200"></a>00200 <span class="keyword">   </span>{  <span class="keywordflow">return</span> data_.get_value_traits(*<span class="keyword">this</span>);  }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202    real_value_traits &amp;get_real_value_traits(<a class="code" href="structboost_1_1intrusive_1_1detail_1_1bool__.html">detail::bool_&lt;false&gt;</a>)
<a name="l00203"></a>00203    {  <span class="keywordflow">return</span> data_;  }
<a name="l00204"></a>00204 
<a name="l00205"></a>00205    real_value_traits &amp;get_real_value_traits(<a class="code" href="structboost_1_1intrusive_1_1detail_1_1bool__.html">detail::bool_&lt;true&gt;</a>)
<a name="l00206"></a>00206    {  <span class="keywordflow">return</span> data_.get_value_traits(*<span class="keyword">this</span>);  }
<a name="l00207"></a>00207 
<a name="l00209"></a>00209 
<a name="l00210"></a>00210    <span class="keyword">public</span>:
<a name="l00211"></a>00211 
<a name="l00212"></a>00212    <span class="keyword">const</span> real_value_traits &amp;get_real_value_traits()<span class="keyword"> const</span>
<a name="l00213"></a>00213 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;get_real_value_traits(<a class="code" href="structboost_1_1intrusive_1_1detail_1_1bool__.html">detail::bool_&lt;external_value_traits&gt;</a>());  }
<a name="l00214"></a>00214 
<a name="l00215"></a>00215    real_value_traits &amp;get_real_value_traits()
<a name="l00216"></a>00216    {  <span class="keywordflow">return</span> this-&gt;get_real_value_traits(<a class="code" href="structboost_1_1intrusive_1_1detail_1_1bool__.html">detail::bool_&lt;external_value_traits&gt;</a>());  }
<a name="l00217"></a>00217 
<a name="l00218"></a>00218    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structboost_1_1intrusive_1_1treap__algorithms_1_1insert__commit__data.html">node_algorithms::insert_commit_data</a> <a class="code" href="structboost_1_1intrusive_1_1treap__algorithms_1_1insert__commit__data.html">insert_commit_data</a>;
<a name="l00219"></a>00219 
<a name="l00227"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a301af544273a2b3e929db8b898f6caaf">00227</a>    <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a301af544273a2b3e929db8b898f6caaf">treap_impl</a>( <span class="keyword">const</span> value_compare &amp;cmp     = value_compare()
<a name="l00228"></a>00228             , <span class="keyword">const</span> priority_compare &amp;pcmp = priority_compare()
<a name="l00229"></a>00229             , <span class="keyword">const</span> value_traits &amp;v_traits = value_traits()) 
<a name="l00230"></a>00230       :  data_(cmp, pcmp, v_traits)
<a name="l00231"></a>00231    {  
<a name="l00232"></a>00232       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a73a1ff60b97f0acba419c1cd70c2b0e6">node_algorithms::init_header</a>(&amp;priv_header());  
<a name="l00233"></a>00233       this-&gt;priv_size_traits().set_size(size_type(0));
<a name="l00234"></a>00234    }
<a name="l00235"></a>00235 
<a name="l00249"></a>00249    <span class="keyword">template</span>&lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00250"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae3f1fc9b1408a99c4be9497c9c8f90c3">00250</a>    <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a301af544273a2b3e929db8b898f6caaf">treap_impl</a>( <span class="keywordtype">bool</span> unique, Iterator b, Iterator e
<a name="l00251"></a>00251             , <span class="keyword">const</span> value_compare &amp;cmp     = value_compare()
<a name="l00252"></a>00252             , <span class="keyword">const</span> priority_compare &amp;pcmp = priority_compare()
<a name="l00253"></a>00253             , <span class="keyword">const</span> value_traits &amp;v_traits = value_traits())
<a name="l00254"></a>00254       : data_(cmp, pcmp, v_traits)
<a name="l00255"></a>00255    {
<a name="l00256"></a>00256       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a73a1ff60b97f0acba419c1cd70c2b0e6">node_algorithms::init_header</a>(&amp;priv_header());
<a name="l00257"></a>00257       this-&gt;priv_size_traits().set_size(size_type(0));
<a name="l00258"></a>00258       <span class="keywordflow">if</span>(unique)
<a name="l00259"></a>00259          this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a176c95a3306f2254624b76cdf7db7632">insert_unique</a>(b, e);
<a name="l00260"></a>00260       <span class="keywordflow">else</span>
<a name="l00261"></a>00261          this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7e671ee08e2a9c4153fccb2a5c3de66c">insert_equal</a>(b, e);
<a name="l00262"></a>00262    }
<a name="l00263"></a>00263 
<a name="l00272"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a3928fea05b4560e52648e68b65834321">00272</a>    <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a3928fea05b4560e52648e68b65834321">~treap_impl</a>() 
<a name="l00273"></a>00273    {}
<a name="l00274"></a>00274 
<a name="l00280"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5f1b2fe5d136b758d15b23dd8901fbc6">00280</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5f1b2fe5d136b758d15b23dd8901fbc6">begin</a>()
<a name="l00281"></a>00281    {  <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> (node_traits::get_left(node_ptr(&amp;priv_header())), <span class="keyword">this</span>);   }
<a name="l00282"></a>00282 
<a name="l00288"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae28700ff9aada8fae5f6ba432ae2dd4f">00288</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5f1b2fe5d136b758d15b23dd8901fbc6">begin</a>()<span class="keyword"> const</span>
<a name="l00289"></a>00289 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aa971b2a295fed242a75619b6f69ab7cc">cbegin</a>();   }
<a name="l00290"></a>00290 
<a name="l00296"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aa971b2a295fed242a75619b6f69ab7cc">00296</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aa971b2a295fed242a75619b6f69ab7cc">cbegin</a>()<span class="keyword"> const</span>
<a name="l00297"></a>00297 <span class="keyword">   </span>{  <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> (node_traits::get_left(const_node_ptr(&amp;priv_header())), <span class="keyword">this</span>);   }
<a name="l00298"></a>00298 
<a name="l00304"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">00304</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>()
<a name="l00305"></a>00305    {  <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> (node_ptr(&amp;priv_header()), <span class="keyword">this</span>);  }
<a name="l00306"></a>00306 
<a name="l00312"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a4f7382296f633d81c25c7db108f579fc">00312</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>()<span class="keyword"> const</span>
<a name="l00313"></a>00313 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac7e8b3392fa35ff163958be540e1a2f4">cend</a>();  }
<a name="l00314"></a>00314 
<a name="l00320"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac7e8b3392fa35ff163958be540e1a2f4">00320</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac7e8b3392fa35ff163958be540e1a2f4">cend</a>()<span class="keyword"> const</span>
<a name="l00321"></a>00321 <span class="keyword">   </span>{  <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> (uncast(const_node_ptr(&amp;priv_header())), <span class="keyword">this</span>);  }
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 
<a name="l00329"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae70a2e6ba82312c04fbc299652f33386">00329</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae70a2e6ba82312c04fbc299652f33386">top</a>()
<a name="l00330"></a>00330    {  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a62605a83e5cc5df3e608b9d02d1ae1e0">empty</a>() ? this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>() : <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> (node_traits::get_parent(node_ptr(&amp;priv_header())), <span class="keyword">this</span>);   }
<a name="l00331"></a>00331 
<a name="l00337"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aa7095ad32e6d8d9c6aee707d3867f556">00337</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae70a2e6ba82312c04fbc299652f33386">top</a>()<span class="keyword"> const</span>
<a name="l00338"></a>00338 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ace2442a8db18ec9b5dafc2d95b6818f3">ctop</a>();   }
<a name="l00339"></a>00339 
<a name="l00345"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ace2442a8db18ec9b5dafc2d95b6818f3">00345</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ace2442a8db18ec9b5dafc2d95b6818f3">ctop</a>()<span class="keyword"> const</span>
<a name="l00346"></a>00346 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a62605a83e5cc5df3e608b9d02d1ae1e0">empty</a>() ? this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac7e8b3392fa35ff163958be540e1a2f4">cend</a>() : <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> (node_traits::get_parent(const_node_ptr(&amp;priv_header())), <span class="keyword">this</span>);   }
<a name="l00347"></a>00347 
<a name="l00354"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a475ef3aad14adeea09d3e42ed30c4a1a">00354</a>    reverse_iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a475ef3aad14adeea09d3e42ed30c4a1a">rbegin</a>()
<a name="l00355"></a>00355    {  <span class="keywordflow">return</span> reverse_iterator(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>());  }
<a name="l00356"></a>00356 
<a name="l00363"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aee62058b9bd94b070f2ca580a055bab0">00363</a>    const_reverse_iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a475ef3aad14adeea09d3e42ed30c4a1a">rbegin</a>()<span class="keyword"> const</span>
<a name="l00364"></a>00364 <span class="keyword">   </span>{  <span class="keywordflow">return</span> const_reverse_iterator(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>());  }
<a name="l00365"></a>00365 
<a name="l00372"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a802015a4231558c24c7905b3edc3271b">00372</a>    const_reverse_iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a802015a4231558c24c7905b3edc3271b">crbegin</a>()<span class="keyword"> const</span>
<a name="l00373"></a>00373 <span class="keyword">   </span>{  <span class="keywordflow">return</span> const_reverse_iterator(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>());  }
<a name="l00374"></a>00374 
<a name="l00381"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a0663dd5d7949b4376e2d476379b6f02f">00381</a>    reverse_iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a0663dd5d7949b4376e2d476379b6f02f">rend</a>()
<a name="l00382"></a>00382    {  <span class="keywordflow">return</span> reverse_iterator(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5f1b2fe5d136b758d15b23dd8901fbc6">begin</a>());   }
<a name="l00383"></a>00383 
<a name="l00390"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aad34ab659174860a78dd736b27951f85">00390</a>    const_reverse_iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a0663dd5d7949b4376e2d476379b6f02f">rend</a>()<span class="keyword"> const</span>
<a name="l00391"></a>00391 <span class="keyword">   </span>{  <span class="keywordflow">return</span> const_reverse_iterator(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5f1b2fe5d136b758d15b23dd8901fbc6">begin</a>());   }
<a name="l00392"></a>00392 
<a name="l00399"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5fec1d92ff19925030ec700be529a8bd">00399</a>    const_reverse_iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5fec1d92ff19925030ec700be529a8bd">crend</a>()<span class="keyword"> const</span>
<a name="l00400"></a>00400 <span class="keyword">   </span>{  <span class="keywordflow">return</span> const_reverse_iterator(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5f1b2fe5d136b758d15b23dd8901fbc6">begin</a>());   }
<a name="l00401"></a>00401 
<a name="l00408"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a33108445b4217e322612d91b0fdd94e8">00408</a>    reverse_iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a33108445b4217e322612d91b0fdd94e8">rtop</a>()
<a name="l00409"></a>00409    {  <span class="keywordflow">return</span> reverse_iterator(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae70a2e6ba82312c04fbc299652f33386">top</a>());  }
<a name="l00410"></a>00410 
<a name="l00417"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#afac28321a0fb58cb291af08bac4c8573">00417</a>    const_reverse_iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a33108445b4217e322612d91b0fdd94e8">rtop</a>()<span class="keyword"> const</span>
<a name="l00418"></a>00418 <span class="keyword">   </span>{  <span class="keywordflow">return</span> const_reverse_iterator(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae70a2e6ba82312c04fbc299652f33386">top</a>());  }
<a name="l00419"></a>00419 
<a name="l00426"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a918ee8c8207db07717b5c8b557163dcb">00426</a>    const_reverse_iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a918ee8c8207db07717b5c8b557163dcb">crtop</a>()<span class="keyword"> const</span>
<a name="l00427"></a>00427 <span class="keyword">   </span>{  <span class="keywordflow">return</span> const_reverse_iterator(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae70a2e6ba82312c04fbc299652f33386">top</a>());  }
<a name="l00428"></a>00428 
<a name="l00437"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a4cb90a091aaaa49b440faf8ada23d7e6">00437</a>    <span class="keyword">static</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a> &amp;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a4cb90a091aaaa49b440faf8ada23d7e6">container_from_end_iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> end_iterator)
<a name="l00438"></a>00438    {  <span class="keywordflow">return</span> priv_container_from_end_iterator(end_iterator);   }
<a name="l00439"></a>00439 
<a name="l00448"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#abd58f6f8f60cd1296884aa97a79dbb17">00448</a>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a> &amp;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a4cb90a091aaaa49b440faf8ada23d7e6">container_from_end_iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> end_iterator)
<a name="l00449"></a>00449    {  <span class="keywordflow">return</span> priv_container_from_end_iterator(end_iterator);   }
<a name="l00450"></a>00450 
<a name="l00459"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a290bc5f4ca2560d1509c1b05ff734d2c">00459</a>    <span class="keyword">static</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a> &amp;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a290bc5f4ca2560d1509c1b05ff734d2c">container_from_iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> it)
<a name="l00460"></a>00460    {  <span class="keywordflow">return</span> priv_container_from_iterator(it);   }
<a name="l00461"></a>00461 
<a name="l00470"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a12426bd8a8863ef01c09ec5476934e9b">00470</a>    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a> &amp;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a290bc5f4ca2560d1509c1b05ff734d2c">container_from_iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> it)
<a name="l00471"></a>00471    {  <span class="keywordflow">return</span> priv_container_from_iterator(it);   }
<a name="l00472"></a>00472 
<a name="l00478"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aa04f0fdeff3415906e8a4ab67d39eef8">00478</a>    value_compare <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aa04f0fdeff3415906e8a4ab67d39eef8">value_comp</a>()<span class="keyword"> const</span>
<a name="l00479"></a>00479 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;priv_comp();   }
<a name="l00480"></a>00480 
<a name="l00486"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#acea102c2a3713290621f8973e27946e5">00486</a>    priority_compare <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#acea102c2a3713290621f8973e27946e5">priority_comp</a>()<span class="keyword"> const</span>
<a name="l00487"></a>00487 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;priv_pcomp();   }
<a name="l00488"></a>00488 
<a name="l00494"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a62605a83e5cc5df3e608b9d02d1ae1e0">00494</a>    <span class="keywordtype">bool</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a62605a83e5cc5df3e608b9d02d1ae1e0">empty</a>()<span class="keyword"> const</span>
<a name="l00495"></a>00495 <span class="keyword">   </span>{  <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#acf7b77b563225aba828c4e2c6e2f9cb8">node_algorithms::unique</a>(const_node_ptr(&amp;priv_header()));   }
<a name="l00496"></a>00496 
<a name="l00503"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a8132df717814b4e5b01b641dd7d6a860">00503</a>    size_type <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a8132df717814b4e5b01b641dd7d6a860">size</a>()<span class="keyword"> const</span>
<a name="l00504"></a>00504 <span class="keyword">   </span>{
<a name="l00505"></a>00505       <span class="keywordflow">if</span>(<a class="code" href="structboost_1_1intrusive_1_1constant__time__size.html">constant_time_size</a>)
<a name="l00506"></a>00506          <span class="keywordflow">return</span> this-&gt;priv_size_traits().get_size();
<a name="l00507"></a>00507       <span class="keywordflow">else</span>{
<a name="l00508"></a>00508          <span class="keywordflow">return</span> (size_type)<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a53e5aa40b7a07c0a44e86d6c2c45740b">node_algorithms::size</a>(const_node_ptr(&amp;priv_header()));
<a name="l00509"></a>00509       }
<a name="l00510"></a>00510    }
<a name="l00511"></a>00511 
<a name="l00517"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad66731d21a87aed3dd716a1185eba6e1">00517</a>    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad66731d21a87aed3dd716a1185eba6e1">swap</a>(<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a>&amp; other)
<a name="l00518"></a>00518    {
<a name="l00519"></a>00519       <span class="comment">//This can throw</span>
<a name="l00520"></a>00520       <span class="keyword">using</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad66731d21a87aed3dd716a1185eba6e1">std::swap</a>;
<a name="l00521"></a>00521       <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad66731d21a87aed3dd716a1185eba6e1">swap</a>(priv_comp(), priv_comp());
<a name="l00522"></a>00522       <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad66731d21a87aed3dd716a1185eba6e1">swap</a>(priv_pcomp(), priv_pcomp());
<a name="l00523"></a>00523       <span class="comment">//These can&#39;t throw</span>
<a name="l00524"></a>00524       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#ad4c2d7fcaf4e092d74b2473b4864c858">node_algorithms::swap_tree</a>(node_ptr(&amp;priv_header()), node_ptr(&amp;other.priv_header()));
<a name="l00525"></a>00525       <span class="keywordflow">if</span>(<a class="code" href="structboost_1_1intrusive_1_1constant__time__size.html">constant_time_size</a>){
<a name="l00526"></a>00526          size_type backup = this-&gt;priv_size_traits().get_size();
<a name="l00527"></a>00527          this-&gt;priv_size_traits().set_size(other.priv_size_traits().get_size());
<a name="l00528"></a>00528          other.priv_size_traits().set_size(backup);
<a name="l00529"></a>00529       }
<a name="l00530"></a>00530    }
<a name="l00531"></a>00531 
<a name="l00543"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7e671ee08e2a9c4153fccb2a5c3de66c">00543</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7e671ee08e2a9c4153fccb2a5c3de66c">insert_equal</a>(reference value)
<a name="l00544"></a>00544    {
<a name="l00545"></a>00545       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;value_compare, treap_impl&gt;</a>
<a name="l00546"></a>00546          key_node_comp(priv_comp(), <span class="keyword">this</span>);
<a name="l00547"></a>00547       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;priority_compare, treap_impl&gt;</a>
<a name="l00548"></a>00548          key_node_pcomp(priv_pcomp(), <span class="keyword">this</span>);
<a name="l00549"></a>00549       node_ptr to_insert(get_real_value_traits().to_node_ptr(value));
<a name="l00550"></a>00550       <span class="keywordflow">if</span>(safemode_or_autounlink)
<a name="l00551"></a>00551          BOOST_INTRUSIVE_SAFE_HOOK_DEFAULT_ASSERT(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#acf7b77b563225aba828c4e2c6e2f9cb8">node_algorithms::unique</a>(to_insert));
<a name="l00552"></a>00552       this-&gt;priv_size_traits().increment();
<a name="l00553"></a>00553       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a144eef1ebf488f46e190fe955b5d436d">node_algorithms::insert_equal_upper_bound</a>
<a name="l00554"></a>00554          (node_ptr(&amp;priv_header()), to_insert, key_node_comp, key_node_pcomp), <span class="keyword">this</span>);
<a name="l00555"></a>00555    }
<a name="l00556"></a>00556 
<a name="l00571"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a8b20973646008d6cabdf3de5217dd076">00571</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7e671ee08e2a9c4153fccb2a5c3de66c">insert_equal</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> hint, reference value)
<a name="l00572"></a>00572    {
<a name="l00573"></a>00573       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;value_compare, treap_impl&gt;</a>
<a name="l00574"></a>00574          key_node_comp(priv_comp(), <span class="keyword">this</span>);
<a name="l00575"></a>00575       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;priority_compare, treap_impl&gt;</a>
<a name="l00576"></a>00576          key_node_pcomp(priv_pcomp(), <span class="keyword">this</span>);
<a name="l00577"></a>00577       node_ptr to_insert(get_real_value_traits().to_node_ptr(value));
<a name="l00578"></a>00578       <span class="keywordflow">if</span>(safemode_or_autounlink)
<a name="l00579"></a>00579          BOOST_INTRUSIVE_SAFE_HOOK_DEFAULT_ASSERT(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#acf7b77b563225aba828c4e2c6e2f9cb8">node_algorithms::unique</a>(to_insert));
<a name="l00580"></a>00580       this-&gt;priv_size_traits().increment();
<a name="l00581"></a>00581       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#ae8cf64a1c4901b105a7ef1268fd86afc">node_algorithms::insert_equal</a>
<a name="l00582"></a>00582          (node_ptr(&amp;priv_header()), hint.pointed_node(), to_insert, key_node_comp, key_node_pcomp), <span class="keyword">this</span>);
<a name="l00583"></a>00583    }
<a name="l00584"></a>00584 
<a name="l00600"></a>00600    <span class="keyword">template</span>&lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00601"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a6fb8658126f43d092cc3931a0defb876">00601</a>    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7e671ee08e2a9c4153fccb2a5c3de66c">insert_equal</a>(Iterator b, Iterator e)
<a name="l00602"></a>00602    {
<a name="l00603"></a>00603       <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>());
<a name="l00604"></a>00604       <span class="keywordflow">for</span> (; b != e; ++b)
<a name="l00605"></a>00605          this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7e671ee08e2a9c4153fccb2a5c3de66c">insert_equal</a>(end, *b);
<a name="l00606"></a>00606    }
<a name="l00607"></a>00607 
<a name="l00621"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a176c95a3306f2254624b76cdf7db7632">00621</a>    std::pair&lt;iterator, bool&gt; <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a176c95a3306f2254624b76cdf7db7632">insert_unique</a>(reference value)
<a name="l00622"></a>00622    {
<a name="l00623"></a>00623       <a class="code" href="structboost_1_1intrusive_1_1treap__algorithms_1_1insert__commit__data.html">insert_commit_data</a> commit_data;
<a name="l00624"></a>00624       std::pair&lt;iterator, bool&gt; ret = <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac615f7d91cd1a4afbea1cb0ecdd951a8">insert_unique_check</a>(value, priv_comp(), priv_pcomp(), commit_data);
<a name="l00625"></a>00625       <span class="keywordflow">if</span>(!ret.second)
<a name="l00626"></a>00626          <span class="keywordflow">return</span> ret;
<a name="l00627"></a>00627       <span class="keywordflow">return</span> std::pair&lt;iterator, bool&gt; (<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a6d3d9433fb03548dab5a60f13323407f">insert_unique_commit</a>(value, commit_data), <span class="keyword">true</span>);
<a name="l00628"></a>00628    }
<a name="l00629"></a>00629 
<a name="l00645"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a660de2834bbc78b912e5ffc555473e8c">00645</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a176c95a3306f2254624b76cdf7db7632">insert_unique</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> hint, reference value)
<a name="l00646"></a>00646    {
<a name="l00647"></a>00647       <a class="code" href="structboost_1_1intrusive_1_1treap__algorithms_1_1insert__commit__data.html">insert_commit_data</a> commit_data;
<a name="l00648"></a>00648       std::pair&lt;iterator, bool&gt; ret = <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac615f7d91cd1a4afbea1cb0ecdd951a8">insert_unique_check</a>(hint, value, priv_comp(), priv_pcomp(), commit_data);
<a name="l00649"></a>00649       <span class="keywordflow">if</span>(!ret.second)
<a name="l00650"></a>00650          <span class="keywordflow">return</span> ret.first;
<a name="l00651"></a>00651       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a6d3d9433fb03548dab5a60f13323407f">insert_unique_commit</a>(value, commit_data);
<a name="l00652"></a>00652    }
<a name="l00653"></a>00653 
<a name="l00668"></a>00668    <span class="keyword">template</span>&lt;<span class="keyword">class</span> Iterator&gt;
<a name="l00669"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a244013d831228361a16fcf350c4901e3">00669</a>    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a176c95a3306f2254624b76cdf7db7632">insert_unique</a>(Iterator b, Iterator e)
<a name="l00670"></a>00670    {
<a name="l00671"></a>00671       <span class="keywordflow">if</span>(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a62605a83e5cc5df3e608b9d02d1ae1e0">empty</a>()){
<a name="l00672"></a>00672          <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2832a98e8441a7d99954b67daa54b4c4">end</a>());
<a name="l00673"></a>00673          <span class="keywordflow">for</span> (; b != e; ++b)
<a name="l00674"></a>00674             this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a176c95a3306f2254624b76cdf7db7632">insert_unique</a>(end, *b);
<a name="l00675"></a>00675       }
<a name="l00676"></a>00676       <span class="keywordflow">else</span>{
<a name="l00677"></a>00677          <span class="keywordflow">for</span> (; b != e; ++b)
<a name="l00678"></a>00678             this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a176c95a3306f2254624b76cdf7db7632">insert_unique</a>(*b);
<a name="l00679"></a>00679       }
<a name="l00680"></a>00680    }
<a name="l00681"></a>00681 
<a name="l00715"></a>00715    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare, <span class="keyword">class</span> KeyValuePrioCompare&gt;
<a name="l00716"></a>00716    std::pair&lt;iterator, bool&gt; <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac615f7d91cd1a4afbea1cb0ecdd951a8">insert_unique_check</a>
<a name="l00717"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac615f7d91cd1a4afbea1cb0ecdd951a8">00717</a>       ( <span class="keyword">const</span> KeyType &amp;key, KeyValueCompare key_value_comp
<a name="l00718"></a>00718       , KeyValuePrioCompare key_value_pcomp, <a class="code" href="structboost_1_1intrusive_1_1treap__algorithms_1_1insert__commit__data.html">insert_commit_data</a> &amp;commit_data)
<a name="l00719"></a>00719    {
<a name="l00720"></a>00720       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l00721"></a>00721          comp(key_value_comp, <span class="keyword">this</span>);
<a name="l00722"></a>00722       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValuePrioCompare, treap_impl&gt;</a>
<a name="l00723"></a>00723          pcomp(key_value_pcomp, <span class="keyword">this</span>);
<a name="l00724"></a>00724       std::pair&lt;node_ptr, bool&gt; ret = 
<a name="l00725"></a>00725          (<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a9746b0626126d308688e179231267551">node_algorithms::insert_unique_check</a>
<a name="l00726"></a>00726             (node_ptr(&amp;priv_header()), key, comp, pcomp, commit_data));
<a name="l00727"></a>00727       <span class="keywordflow">return</span> std::pair&lt;iterator, bool&gt;(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(ret.first, <span class="keyword">this</span>), ret.second);
<a name="l00728"></a>00728    }
<a name="l00729"></a>00729 
<a name="l00765"></a>00765    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare, <span class="keyword">class</span> KeyValuePrioCompare&gt;
<a name="l00766"></a>00766    std::pair&lt;iterator, bool&gt; <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac615f7d91cd1a4afbea1cb0ecdd951a8">insert_unique_check</a>
<a name="l00767"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a93ac0df6958fa4216d839236eb9512e7">00767</a>       ( <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> hint, <span class="keyword">const</span> KeyType &amp;key
<a name="l00768"></a>00768       , KeyValueCompare key_value_comp
<a name="l00769"></a>00769       , KeyValuePrioCompare key_value_pcomp
<a name="l00770"></a>00770       , <a class="code" href="structboost_1_1intrusive_1_1treap__algorithms_1_1insert__commit__data.html">insert_commit_data</a> &amp;commit_data)
<a name="l00771"></a>00771    {
<a name="l00772"></a>00772       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l00773"></a>00773          comp(key_value_comp, <span class="keyword">this</span>);
<a name="l00774"></a>00774       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValuePrioCompare, treap_impl&gt;</a>
<a name="l00775"></a>00775          pcomp(key_value_pcomp, <span class="keyword">this</span>);
<a name="l00776"></a>00776       std::pair&lt;node_ptr, bool&gt; ret = 
<a name="l00777"></a>00777          (<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a9746b0626126d308688e179231267551">node_algorithms::insert_unique_check</a>
<a name="l00778"></a>00778             (node_ptr(&amp;priv_header()), hint.pointed_node(), key, comp, pcomp, commit_data));
<a name="l00779"></a>00779       <span class="keywordflow">return</span> std::pair&lt;iterator, bool&gt;(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(ret.first, <span class="keyword">this</span>), ret.second);
<a name="l00780"></a>00780    }
<a name="l00781"></a>00781 
<a name="l00799"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a6d3d9433fb03548dab5a60f13323407f">00799</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a6d3d9433fb03548dab5a60f13323407f">insert_unique_commit</a>(reference value, <span class="keyword">const</span> <a class="code" href="structboost_1_1intrusive_1_1treap__algorithms_1_1insert__commit__data.html">insert_commit_data</a> &amp;commit_data)
<a name="l00800"></a>00800    {
<a name="l00801"></a>00801       node_ptr to_insert(get_real_value_traits().to_node_ptr(value));
<a name="l00802"></a>00802       <span class="keywordflow">if</span>(safemode_or_autounlink)
<a name="l00803"></a>00803          BOOST_INTRUSIVE_SAFE_HOOK_DEFAULT_ASSERT(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#acf7b77b563225aba828c4e2c6e2f9cb8">node_algorithms::unique</a>(to_insert));
<a name="l00804"></a>00804       this-&gt;priv_size_traits().increment();
<a name="l00805"></a>00805       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a50ace93cd0c941f59aee6f3db03df37d">node_algorithms::insert_unique_commit</a>(node_ptr(&amp;priv_header()), to_insert, commit_data);
<a name="l00806"></a>00806       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(to_insert, <span class="keyword">this</span>);
<a name="l00807"></a>00807    }
<a name="l00808"></a>00808 
<a name="l00823"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a09c4a2ead2f2456146d0f74cbec2c2ef">00823</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a09c4a2ead2f2456146d0f74cbec2c2ef">insert_before</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> pos, reference value)
<a name="l00824"></a>00824    {
<a name="l00825"></a>00825       node_ptr to_insert(get_real_value_traits().to_node_ptr(value));
<a name="l00826"></a>00826       <span class="keywordflow">if</span>(safemode_or_autounlink)
<a name="l00827"></a>00827          BOOST_INTRUSIVE_SAFE_HOOK_DEFAULT_ASSERT(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#acf7b77b563225aba828c4e2c6e2f9cb8">node_algorithms::unique</a>(to_insert));
<a name="l00828"></a>00828       this-&gt;priv_size_traits().increment();
<a name="l00829"></a>00829       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;priority_compare, treap_impl&gt;</a>
<a name="l00830"></a>00830          pcomp(priv_pcomp(), <span class="keyword">this</span>);
<a name="l00831"></a>00831       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a2d77de00dcdc3c1951c9e17d1c73793d">node_algorithms::insert_before</a>
<a name="l00832"></a>00832          (node_ptr(&amp;priv_header()), pos.pointed_node(), to_insert, pcomp), <span class="keyword">this</span>);
<a name="l00833"></a>00833    }
<a name="l00834"></a>00834 
<a name="l00849"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad163da24bb40c3fe3f287edee3ed5586">00849</a>    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad163da24bb40c3fe3f287edee3ed5586">push_back</a>(reference value)
<a name="l00850"></a>00850    {
<a name="l00851"></a>00851       node_ptr to_insert(get_real_value_traits().to_node_ptr(value));
<a name="l00852"></a>00852       <span class="keywordflow">if</span>(safemode_or_autounlink)
<a name="l00853"></a>00853          BOOST_INTRUSIVE_SAFE_HOOK_DEFAULT_ASSERT(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#acf7b77b563225aba828c4e2c6e2f9cb8">node_algorithms::unique</a>(to_insert));
<a name="l00854"></a>00854       this-&gt;priv_size_traits().increment();
<a name="l00855"></a>00855       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;priority_compare, treap_impl&gt;</a>
<a name="l00856"></a>00856          pcomp(priv_pcomp(), <span class="keyword">this</span>);
<a name="l00857"></a>00857       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#af61da0fbd8d58b5bc5631ca825a2b603">node_algorithms::push_back</a>(node_ptr(&amp;priv_header()), to_insert, pcomp);
<a name="l00858"></a>00858    }
<a name="l00859"></a>00859 
<a name="l00874"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a170c143e36892244027645b27073d0a5">00874</a>    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a170c143e36892244027645b27073d0a5">push_front</a>(reference value)
<a name="l00875"></a>00875    {
<a name="l00876"></a>00876       node_ptr to_insert(get_real_value_traits().to_node_ptr(value));
<a name="l00877"></a>00877       <span class="keywordflow">if</span>(safemode_or_autounlink)
<a name="l00878"></a>00878          BOOST_INTRUSIVE_SAFE_HOOK_DEFAULT_ASSERT(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#acf7b77b563225aba828c4e2c6e2f9cb8">node_algorithms::unique</a>(to_insert));
<a name="l00879"></a>00879       this-&gt;priv_size_traits().increment();
<a name="l00880"></a>00880       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;priority_compare, treap_impl&gt;</a>
<a name="l00881"></a>00881          pcomp(priv_pcomp(), <span class="keyword">this</span>);
<a name="l00882"></a>00882       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a12b3be155708649db0885e7278e46629">node_algorithms::push_front</a>(node_ptr(&amp;priv_header()), to_insert, pcomp);
<a name="l00883"></a>00883    }
<a name="l00884"></a>00884 
<a name="l00893"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5823d240f2cccf8276fa4d98e37bdbb7">00893</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5823d240f2cccf8276fa4d98e37bdbb7">erase</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> i)
<a name="l00894"></a>00894    {
<a name="l00895"></a>00895       <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> ret(i);
<a name="l00896"></a>00896       ++ret;
<a name="l00897"></a>00897       node_ptr to_erase(i.pointed_node());
<a name="l00898"></a>00898       <span class="keywordflow">if</span>(safemode_or_autounlink)
<a name="l00899"></a>00899          BOOST_INTRUSIVE_SAFE_HOOK_DEFAULT_ASSERT(!<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#acf7b77b563225aba828c4e2c6e2f9cb8">node_algorithms::unique</a>(to_erase));
<a name="l00900"></a>00900       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;priority_compare, treap_impl&gt;</a>
<a name="l00901"></a>00901          key_node_pcomp(priv_pcomp(), <span class="keyword">this</span>);
<a name="l00902"></a>00902       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a011663575a8a3b9fdd1696f97dccca19">node_algorithms::erase</a>(&amp;priv_header(), to_erase, key_node_pcomp);
<a name="l00903"></a>00903       this-&gt;priv_size_traits().decrement();
<a name="l00904"></a>00904       <span class="keywordflow">if</span>(safemode_or_autounlink)
<a name="l00905"></a>00905          <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#ac11b8bda8111bd1e0d2a391413882735">node_algorithms::init</a>(to_erase);
<a name="l00906"></a>00906       <span class="keywordflow">return</span> ret.unconst();
<a name="l00907"></a>00907    }
<a name="l00908"></a>00908 
<a name="l00918"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#af24798e0b2ab68a407ac8aaeb08bdd6d">00918</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5823d240f2cccf8276fa4d98e37bdbb7">erase</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> b, <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> e)
<a name="l00919"></a>00919    {  size_type n;   <span class="keywordflow">return</span> private_erase(b, e, n);   }
<a name="l00920"></a>00920 
<a name="l00931"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2be7d7ec616b118f94acdf39938f86de">00931</a>    size_type <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5823d240f2cccf8276fa4d98e37bdbb7">erase</a>(const_reference value)
<a name="l00932"></a>00932    {  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2be7d7ec616b118f94acdf39938f86de">erase</a>(value, priv_comp());   }
<a name="l00933"></a>00933 
<a name="l00946"></a>00946    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l00947"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad74ca32e23e79e5550d3e059b06c65ad">00947</a>    size_type <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5823d240f2cccf8276fa4d98e37bdbb7">erase</a>(<span class="keyword">const</span> KeyType&amp; key, KeyValueCompare comp
<a name="l00949"></a>00949                   , <span class="keyword">typename</span> <a class="code" href="structboost_1_1intrusive_1_1detail_1_1enable__if__c.html">detail::enable_if_c</a>&lt;!<a class="code" href="classboost_1_1intrusive_1_1detail_1_1is__convertible.html">detail::is_convertible&lt;KeyValueCompare, const_iterator&gt;::value</a> &gt;::type * = 0
<a name="l00951"></a>00951                   )
<a name="l00952"></a>00952    {
<a name="l00953"></a>00953       std::pair&lt;iterator,iterator&gt; p = this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">equal_range</a>(key, comp);
<a name="l00954"></a>00954       size_type n;
<a name="l00955"></a>00955       private_erase(p.first, p.second, n);
<a name="l00956"></a>00956       <span class="keywordflow">return</span> n;
<a name="l00957"></a>00957    }
<a name="l00958"></a>00958 
<a name="l00970"></a>00970    <span class="keyword">template</span>&lt;<span class="keyword">class</span> Disposer&gt;
<a name="l00971"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a370620533c1b209ffd2e68d52ca2db2f">00971</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a370620533c1b209ffd2e68d52ca2db2f">erase_and_dispose</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> i, Disposer disposer)
<a name="l00972"></a>00972    {
<a name="l00973"></a>00973       node_ptr to_erase(i.pointed_node());
<a name="l00974"></a>00974       <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> ret(this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5823d240f2cccf8276fa4d98e37bdbb7">erase</a>(i));
<a name="l00975"></a>00975       disposer(get_real_value_traits().to_value_ptr(to_erase));
<a name="l00976"></a>00976       <span class="keywordflow">return</span> ret;
<a name="l00977"></a>00977    }
<a name="l00978"></a>00978 
<a name="l00979"></a>00979 <span class="preprocessor">   #if !defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l00980"></a>00980 <span class="preprocessor"></span>   <span class="keyword">template</span>&lt;<span class="keyword">class</span> Disposer&gt;
<a name="l00981"></a>00981    iterator <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a370620533c1b209ffd2e68d52ca2db2f">erase_and_dispose</a>(iterator i, Disposer disposer)
<a name="l00982"></a>00982    {  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a370620533c1b209ffd2e68d52ca2db2f">erase_and_dispose</a>(const_iterator(i), disposer);   }
<a name="l00983"></a>00983 <span class="preprocessor">   #endif</span>
<a name="l00984"></a>00984 <span class="preprocessor"></span>
<a name="l00997"></a>00997    <span class="keyword">template</span>&lt;<span class="keyword">class</span> Disposer&gt;
<a name="l00998"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a627e8169cccf7a45ee42e720f394e844">00998</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a370620533c1b209ffd2e68d52ca2db2f">erase_and_dispose</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> b, <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> e, Disposer disposer)
<a name="l00999"></a>00999    {  size_type n;   <span class="keywordflow">return</span> private_erase(b, e, n, disposer);   }
<a name="l01000"></a>01000 
<a name="l01015"></a>01015    <span class="keyword">template</span>&lt;<span class="keyword">class</span> Disposer&gt;
<a name="l01016"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a623ed5f50163b0a176661cb80de956aa">01016</a>    size_type <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a370620533c1b209ffd2e68d52ca2db2f">erase_and_dispose</a>(const_reference value, Disposer disposer)
<a name="l01017"></a>01017    {
<a name="l01018"></a>01018       std::pair&lt;iterator,iterator&gt; p = this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">equal_range</a>(value);
<a name="l01019"></a>01019       size_type n;
<a name="l01020"></a>01020       private_erase(p.first, p.second, n, disposer);
<a name="l01021"></a>01021       <span class="keywordflow">return</span> n;
<a name="l01022"></a>01022    }
<a name="l01023"></a>01023 
<a name="l01039"></a>01039    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare, <span class="keyword">class</span> Disposer&gt;
<a name="l01040"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#afab059e29fec585a7cad433a183fc0d0">01040</a>    size_type <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a370620533c1b209ffd2e68d52ca2db2f">erase_and_dispose</a>(<span class="keyword">const</span> KeyType&amp; key, KeyValueCompare comp, Disposer disposer
<a name="l01042"></a>01042                   , <span class="keyword">typename</span> <a class="code" href="structboost_1_1intrusive_1_1detail_1_1enable__if__c.html">detail::enable_if_c</a>&lt;!<a class="code" href="classboost_1_1intrusive_1_1detail_1_1is__convertible.html">detail::is_convertible&lt;KeyValueCompare, const_iterator&gt;::value</a> &gt;::type * = 0
<a name="l01044"></a>01044                   )
<a name="l01045"></a>01045    {
<a name="l01046"></a>01046       std::pair&lt;iterator,iterator&gt; p = this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">equal_range</a>(key, comp);
<a name="l01047"></a>01047       size_type n;
<a name="l01048"></a>01048       private_erase(p.first, p.second, n, disposer);
<a name="l01049"></a>01049       <span class="keywordflow">return</span> n;
<a name="l01050"></a>01050    }
<a name="l01051"></a>01051 
<a name="l01061"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac8c60ce3e633a47f998b07c739934634">01061</a>    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac8c60ce3e633a47f998b07c739934634">clear</a>()
<a name="l01062"></a>01062    {
<a name="l01063"></a>01063       <span class="keywordflow">if</span>(safemode_or_autounlink){
<a name="l01064"></a>01064          this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a50e6177e07881e71c101f9f357354ba5">clear_and_dispose</a>(<a class="code" href="classboost_1_1intrusive_1_1detail_1_1null__disposer.html">detail::null_disposer</a>());
<a name="l01065"></a>01065       }
<a name="l01066"></a>01066       <span class="keywordflow">else</span>{
<a name="l01067"></a>01067          <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a73a1ff60b97f0acba419c1cd70c2b0e6">node_algorithms::init_header</a>(&amp;priv_header());
<a name="l01068"></a>01068          this-&gt;priv_size_traits().set_size(0);
<a name="l01069"></a>01069       }
<a name="l01070"></a>01070    }
<a name="l01071"></a>01071 
<a name="l01081"></a>01081    <span class="keyword">template</span>&lt;<span class="keyword">class</span> Disposer&gt;
<a name="l01082"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a50e6177e07881e71c101f9f357354ba5">01082</a>    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a50e6177e07881e71c101f9f357354ba5">clear_and_dispose</a>(Disposer disposer)
<a name="l01083"></a>01083    {
<a name="l01084"></a>01084       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a54b8601df39886e22be1ac53c711da39">node_algorithms::clear_and_dispose</a>(node_ptr(&amp;priv_header())
<a name="l01085"></a>01085          , <a class="code" href="structboost_1_1intrusive_1_1detail_1_1node__disposer.html">detail::node_disposer&lt;Disposer, treap_impl&gt;</a>(disposer, <span class="keyword">this</span>));
<a name="l01086"></a>01086       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a73a1ff60b97f0acba419c1cd70c2b0e6">node_algorithms::init_header</a>(&amp;priv_header());
<a name="l01087"></a>01087       this-&gt;priv_size_traits().set_size(0);
<a name="l01088"></a>01088    }
<a name="l01089"></a>01089 
<a name="l01096"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a098931e54c6aa4046c093d09b5f2797d">01096</a>    size_type <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a098931e54c6aa4046c093d09b5f2797d">count</a>(const_reference value)<span class="keyword"> const</span>
<a name="l01097"></a>01097 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a098931e54c6aa4046c093d09b5f2797d">count</a>(value, priv_comp());   }
<a name="l01098"></a>01098 
<a name="l01105"></a>01105    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l01106"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a13dbc30bbe2f67755c057782d992ec00">01106</a>    size_type <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a098931e54c6aa4046c093d09b5f2797d">count</a>(<span class="keyword">const</span> KeyType &amp;key, KeyValueCompare comp)<span class="keyword"> const</span>
<a name="l01107"></a>01107 <span class="keyword">   </span>{
<a name="l01108"></a>01108       std::pair&lt;const_iterator, const_iterator&gt; ret = this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">equal_range</a>(key, comp);
<a name="l01109"></a>01109       <span class="keywordflow">return</span> std::distance(ret.first, ret.second);
<a name="l01110"></a>01110    }
<a name="l01111"></a>01111 
<a name="l01118"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad0bea2a2673f0d59ae400415c04410f1">01118</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad0bea2a2673f0d59ae400415c04410f1">lower_bound</a>(const_reference value)
<a name="l01119"></a>01119    {  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad0bea2a2673f0d59ae400415c04410f1">lower_bound</a>(value, priv_comp());   }
<a name="l01120"></a>01120 
<a name="l01127"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ab11bb5423118eaccff7411f5a5b473f4">01127</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad0bea2a2673f0d59ae400415c04410f1">lower_bound</a>(const_reference value)<span class="keyword"> const</span>
<a name="l01128"></a>01128 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ab11bb5423118eaccff7411f5a5b473f4">lower_bound</a>(value, priv_comp());   }
<a name="l01129"></a>01129 
<a name="l01136"></a>01136    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l01137"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a544e0d03afe54639cf518d8fe554a538">01137</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad0bea2a2673f0d59ae400415c04410f1">lower_bound</a>(<span class="keyword">const</span> KeyType &amp;key, KeyValueCompare comp)
<a name="l01138"></a>01138    {
<a name="l01139"></a>01139       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l01140"></a>01140          key_node_comp(comp, <span class="keyword">this</span>);
<a name="l01141"></a>01141       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a1639c2eb677ab4d5f6173f917d5c9f95">node_algorithms::lower_bound</a>
<a name="l01142"></a>01142          (const_node_ptr(&amp;priv_header()), key, key_node_comp), <span class="keyword">this</span>);
<a name="l01143"></a>01143    }
<a name="l01144"></a>01144 
<a name="l01151"></a>01151    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l01152"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a19d3b5934f2bea58456e0a562f57f19a">01152</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ad0bea2a2673f0d59ae400415c04410f1">lower_bound</a>(<span class="keyword">const</span> KeyType &amp;key, KeyValueCompare comp)<span class="keyword"> const</span>
<a name="l01153"></a>01153 <span class="keyword">   </span>{
<a name="l01154"></a>01154       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l01155"></a>01155          key_node_comp(comp, <span class="keyword">this</span>);
<a name="l01156"></a>01156       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a1639c2eb677ab4d5f6173f917d5c9f95">node_algorithms::lower_bound</a>
<a name="l01157"></a>01157          (const_node_ptr(&amp;priv_header()), key, key_node_comp), <span class="keyword">this</span>);
<a name="l01158"></a>01158    }
<a name="l01159"></a>01159 
<a name="l01166"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#afcf426a5a4cae44b4d8e3908e5fcecc5">01166</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#afcf426a5a4cae44b4d8e3908e5fcecc5">upper_bound</a>(const_reference value)
<a name="l01167"></a>01167    {  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#afcf426a5a4cae44b4d8e3908e5fcecc5">upper_bound</a>(value, priv_comp());   }
<a name="l01168"></a>01168 
<a name="l01176"></a>01176    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l01177"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aa1ed0bf019c33f6e249e25d88e378e95">01177</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#afcf426a5a4cae44b4d8e3908e5fcecc5">upper_bound</a>(<span class="keyword">const</span> KeyType &amp;key, KeyValueCompare comp)
<a name="l01178"></a>01178    {
<a name="l01179"></a>01179       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l01180"></a>01180          key_node_comp(comp, <span class="keyword">this</span>);
<a name="l01181"></a>01181       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a66ee70c69df31373af9776fb81b093a6">node_algorithms::upper_bound</a>
<a name="l01182"></a>01182          (const_node_ptr(&amp;priv_header()), key, key_node_comp), <span class="keyword">this</span>);
<a name="l01183"></a>01183    }
<a name="l01184"></a>01184 
<a name="l01191"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae9833656008be25b5a3599e82cb22755">01191</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#afcf426a5a4cae44b4d8e3908e5fcecc5">upper_bound</a>(const_reference value)<span class="keyword"> const</span>
<a name="l01192"></a>01192 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae9833656008be25b5a3599e82cb22755">upper_bound</a>(value, priv_comp());   }
<a name="l01193"></a>01193 
<a name="l01201"></a>01201    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l01202"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a2e415fd8a30db5e79dcfc9c05b8577ee">01202</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#afcf426a5a4cae44b4d8e3908e5fcecc5">upper_bound</a>(<span class="keyword">const</span> KeyType &amp;key, KeyValueCompare comp)<span class="keyword"> const</span>
<a name="l01203"></a>01203 <span class="keyword">   </span>{
<a name="l01204"></a>01204       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l01205"></a>01205          key_node_comp(comp, <span class="keyword">this</span>);
<a name="l01206"></a>01206       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a>(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a66ee70c69df31373af9776fb81b093a6">node_algorithms::upper_bound</a>
<a name="l01207"></a>01207          (const_node_ptr(&amp;priv_header()), key, key_node_comp), <span class="keyword">this</span>);
<a name="l01208"></a>01208    }
<a name="l01209"></a>01209 
<a name="l01216"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7ab44286892cebd7e34498e8ec082fef">01216</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7ab44286892cebd7e34498e8ec082fef">find</a>(const_reference value)
<a name="l01217"></a>01217    {  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7ab44286892cebd7e34498e8ec082fef">find</a>(value, priv_comp()); }
<a name="l01218"></a>01218 
<a name="l01225"></a>01225    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l01226"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a828f0fefc300e3100074d14c4eaeeb98">01226</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7ab44286892cebd7e34498e8ec082fef">find</a>(<span class="keyword">const</span> KeyType &amp;key, KeyValueCompare comp)
<a name="l01227"></a>01227    {
<a name="l01228"></a>01228       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l01229"></a>01229          key_node_comp(comp, <span class="keyword">this</span>);
<a name="l01230"></a>01230       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>
<a name="l01231"></a>01231          (<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#ab5e6026e3a176fc98a517d52481f62a4">node_algorithms::find</a>(const_node_ptr(&amp;priv_header()), key, key_node_comp), <span class="keyword">this</span>);
<a name="l01232"></a>01232    }
<a name="l01233"></a>01233 
<a name="l01240"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aef121131183bb3123227845e641b30b2">01240</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7ab44286892cebd7e34498e8ec082fef">find</a>(const_reference value)<span class="keyword"> const</span>
<a name="l01241"></a>01241 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aef121131183bb3123227845e641b30b2">find</a>(value, priv_comp()); }
<a name="l01242"></a>01242 
<a name="l01249"></a>01249    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l01250"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ac12b2870c295b66dc8e944339e53a8f2">01250</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7ab44286892cebd7e34498e8ec082fef">find</a>(<span class="keyword">const</span> KeyType &amp;key, KeyValueCompare comp)<span class="keyword"> const</span>
<a name="l01251"></a>01251 <span class="keyword">   </span>{
<a name="l01252"></a>01252       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l01253"></a>01253          key_node_comp(comp, <span class="keyword">this</span>);
<a name="l01254"></a>01254       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a>
<a name="l01255"></a>01255          (<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#ab5e6026e3a176fc98a517d52481f62a4">node_algorithms::find</a>(const_node_ptr(&amp;priv_header()), key, key_node_comp), <span class="keyword">this</span>);
<a name="l01256"></a>01256    }
<a name="l01257"></a>01257 
<a name="l01265"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">01265</a>    std::pair&lt;iterator,iterator&gt; <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">equal_range</a>(const_reference value)
<a name="l01266"></a>01266    {  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">equal_range</a>(value, priv_comp());   }
<a name="l01267"></a>01267 
<a name="l01275"></a>01275    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l01276"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#aa1a72e547cb7698f27808a27ac8a6510">01276</a>    std::pair&lt;iterator,iterator&gt; <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">equal_range</a>(<span class="keyword">const</span> KeyType &amp;key, KeyValueCompare comp)
<a name="l01277"></a>01277    {
<a name="l01278"></a>01278       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l01279"></a>01279          key_node_comp(comp, <span class="keyword">this</span>);
<a name="l01280"></a>01280       std::pair&lt;node_ptr, node_ptr&gt; ret
<a name="l01281"></a>01281          (<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#af175e817621a18e229e5ec2d7c95623b">node_algorithms::equal_range</a>(const_node_ptr(&amp;priv_header()), key, key_node_comp));
<a name="l01282"></a>01282       <span class="keywordflow">return</span> std::pair&lt;iterator, iterator&gt;(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(ret.first, <span class="keyword">this</span>), <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a>(ret.second, <span class="keyword">this</span>));
<a name="l01283"></a>01283    }
<a name="l01284"></a>01284 
<a name="l01292"></a>01292    std::pair&lt;const_iterator, const_iterator&gt;
<a name="l01293"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ab08d34e8ea975c620bc5e11da00b9555">01293</a>       <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">equal_range</a>(const_reference value)<span class="keyword"> const</span>
<a name="l01294"></a>01294 <span class="keyword">   </span>{  <span class="keywordflow">return</span> this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ab08d34e8ea975c620bc5e11da00b9555">equal_range</a>(value, priv_comp());   }
<a name="l01295"></a>01295 
<a name="l01303"></a>01303    <span class="keyword">template</span>&lt;<span class="keyword">class</span> KeyType, <span class="keyword">class</span> KeyValueCompare&gt;
<a name="l01304"></a>01304    std::pair&lt;const_iterator, const_iterator&gt;
<a name="l01305"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a8f668a823941e894766af58c95674336">01305</a>       <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a34d166868c69a5121c8febde53795656">equal_range</a>(<span class="keyword">const</span> KeyType &amp;key, KeyValueCompare comp)<span class="keyword"> const</span>
<a name="l01306"></a>01306 <span class="keyword">   </span>{
<a name="l01307"></a>01307       <a class="code" href="structboost_1_1intrusive_1_1detail_1_1key__nodeptr__comp.html">detail::key_nodeptr_comp&lt;KeyValueCompare, treap_impl&gt;</a>
<a name="l01308"></a>01308          key_node_comp(comp, <span class="keyword">this</span>);
<a name="l01309"></a>01309       std::pair&lt;node_ptr, node_ptr&gt; ret
<a name="l01310"></a>01310          (<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#af175e817621a18e229e5ec2d7c95623b">node_algorithms::equal_range</a>(const_node_ptr(&amp;priv_header()), key, key_node_comp));
<a name="l01311"></a>01311       <span class="keywordflow">return</span> std::pair&lt;const_iterator, const_iterator&gt;(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a>(ret.first, <span class="keyword">this</span>), <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a>(ret.second, <span class="keyword">this</span>));
<a name="l01312"></a>01312    }
<a name="l01313"></a>01313 
<a name="l01328"></a>01328    <span class="keyword">template</span> &lt;<span class="keyword">class</span> Cloner, <span class="keyword">class</span> Disposer&gt;
<a name="l01329"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae6331e03c870bac25a93be81c325bde7">01329</a>    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#ae6331e03c870bac25a93be81c325bde7">clone_from</a>(<span class="keyword">const</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a> &amp;src, Cloner cloner, Disposer disposer)
<a name="l01330"></a>01330    {
<a name="l01331"></a>01331       this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a50e6177e07881e71c101f9f357354ba5">clear_and_dispose</a>(disposer);
<a name="l01332"></a>01332       <span class="keywordflow">if</span>(!src.<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a62605a83e5cc5df3e608b9d02d1ae1e0">empty</a>()){
<a name="l01333"></a>01333          <a class="code" href="classboost_1_1intrusive_1_1detail_1_1exception__disposer.html">detail::exception_disposer&lt;treap_impl, Disposer&gt;</a>
<a name="l01334"></a>01334             rollback(*<span class="keyword">this</span>, disposer);
<a name="l01335"></a>01335          <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a026a43f694882ac156741a5d487b5ba3">node_algorithms::clone</a>
<a name="l01336"></a>01336             (const_node_ptr(&amp;src.priv_header())
<a name="l01337"></a>01337             ,node_ptr(&amp;this-&gt;priv_header())
<a name="l01338"></a>01338             ,<a class="code" href="structboost_1_1intrusive_1_1detail_1_1node__cloner.html">detail::node_cloner&lt;Cloner, treap_impl&gt;</a>(cloner, <span class="keyword">this</span>)
<a name="l01339"></a>01339             ,<a class="code" href="structboost_1_1intrusive_1_1detail_1_1node__disposer.html">detail::node_disposer&lt;Disposer, treap_impl&gt;</a>(disposer, <span class="keyword">this</span>));
<a name="l01340"></a>01340          this-&gt;priv_size_traits().set_size(src.priv_size_traits().get_size());
<a name="l01341"></a>01341          this-&gt;priv_comp() = src.priv_comp();
<a name="l01342"></a>01342          rollback.release();
<a name="l01343"></a>01343       }
<a name="l01344"></a>01344    }
<a name="l01345"></a>01345 
<a name="l01356"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a15eade23b0d68d5b15ebb48854e9638e">01356</a>    pointer <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a15eade23b0d68d5b15ebb48854e9638e">unlink_leftmost_without_rebalance</a>()
<a name="l01357"></a>01357    {
<a name="l01358"></a>01358       node_ptr to_be_disposed(<a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#af08ea60f6b5bba3dfb9829bf1ddf2b6f">node_algorithms::unlink_leftmost_without_rebalance</a>
<a name="l01359"></a>01359                            (node_ptr(&amp;priv_header())));
<a name="l01360"></a>01360       <span class="keywordflow">if</span>(!to_be_disposed)
<a name="l01361"></a>01361          <span class="keywordflow">return</span> 0;
<a name="l01362"></a>01362       this-&gt;priv_size_traits().decrement();
<a name="l01363"></a>01363       <span class="keywordflow">if</span>(safemode_or_autounlink)<span class="comment">//If this is commented does not work with normal_link</span>
<a name="l01364"></a>01364          <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#ac11b8bda8111bd1e0d2a391413882735">node_algorithms::init</a>(to_be_disposed);
<a name="l01365"></a>01365       <span class="keywordflow">return</span> get_real_value_traits().to_value_ptr(to_be_disposed);
<a name="l01366"></a>01366    }
<a name="l01367"></a>01367 
<a name="l01382"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a63aecd1d9e90d94a78435dcc03b6f77c">01382</a>    <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a63aecd1d9e90d94a78435dcc03b6f77c">replace_node</a>(<a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> replace_this, reference with_this)
<a name="l01383"></a>01383    {
<a name="l01384"></a>01384       <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#a84558a22546e5494ea24cb72efcd7882">node_algorithms::replace_node</a>( get_real_value_traits().to_node_ptr(*replace_this)
<a name="l01385"></a>01385                                    , node_ptr(&amp;priv_header())
<a name="l01386"></a>01386                                    , get_real_value_traits().to_node_ptr(with_this));
<a name="l01387"></a>01387    }
<a name="l01388"></a>01388 
<a name="l01401"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a3c82c5c4bcbae6b0fc23bb4b4e677863">01401</a>    <span class="keyword">static</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a3c82c5c4bcbae6b0fc23bb4b4e677863">s_iterator_to</a>(reference value)
<a name="l01402"></a>01402    {
<a name="l01403"></a>01403       BOOST_STATIC_ASSERT((!stateful_value_traits));
<a name="l01404"></a>01404       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> (value_traits::to_node_ptr(value), 0);
<a name="l01405"></a>01405    }
<a name="l01406"></a>01406 
<a name="l01419"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#abbc99a7e8bb95c7ec527326256c69c65">01419</a>    <span class="keyword">static</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a3c82c5c4bcbae6b0fc23bb4b4e677863">s_iterator_to</a>(const_reference value) 
<a name="l01420"></a>01420    {
<a name="l01421"></a>01421       BOOST_STATIC_ASSERT((!stateful_value_traits));
<a name="l01422"></a>01422       <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> (value_traits::to_node_ptr(const_cast&lt;reference&gt; (value)), 0);
<a name="l01423"></a>01423    }
<a name="l01424"></a>01424 
<a name="l01434"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a759348cfbe46e870444ca5bf88071055">01434</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a759348cfbe46e870444ca5bf88071055">iterator_to</a>(reference value)
<a name="l01435"></a>01435    {  <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">iterator</a> (value_traits::to_node_ptr(value), <span class="keyword">this</span>); }
<a name="l01436"></a>01436 
<a name="l01446"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a7e08f89c2abdbf823bc3c700df7eb3dc">01446</a>    <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a759348cfbe46e870444ca5bf88071055">iterator_to</a>(const_reference value)<span class="keyword"> const</span>
<a name="l01447"></a>01447 <span class="keyword">   </span>{  <span class="keywordflow">return</span> <a class="code" href="classboost_1_1intrusive_1_1tree__iterator.html">const_iterator</a> (value_traits::to_node_ptr(const_cast&lt;reference&gt; (value)), <span class="keyword">this</span>); }
<a name="l01448"></a>01448 
<a name="l01460"></a><a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a9896e9655ed72413664831ea968bf8f6">01460</a>    <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a9896e9655ed72413664831ea968bf8f6">init_node</a>(reference value)
<a name="l01461"></a>01461    { <a class="code" href="classboost_1_1intrusive_1_1treap__algorithms.html#ac11b8bda8111bd1e0d2a391413882735">node_algorithms::init</a>(value_traits::to_node_ptr(value)); }
<a name="l01462"></a>01462 
<a name="l01464"></a>01464    <span class="keyword">private</span>:
<a name="l01465"></a>01465    <span class="keyword">template</span>&lt;<span class="keyword">class</span> Disposer&gt;
<a name="l01466"></a>01466    iterator private_erase(const_iterator b, const_iterator e, <a class="code" href="structboost_1_1intrusive_1_1size__type.html">size_type</a> &amp;n, Disposer disposer)
<a name="l01467"></a>01467    {
<a name="l01468"></a>01468       <span class="keywordflow">for</span>(n = 0; b != e; ++n)
<a name="l01469"></a>01469         this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a370620533c1b209ffd2e68d52ca2db2f">erase_and_dispose</a>(b++, disposer);
<a name="l01470"></a>01470       <span class="keywordflow">return</span> b.unconst();
<a name="l01471"></a>01471    }
<a name="l01472"></a>01472 
<a name="l01473"></a>01473    iterator private_erase(const_iterator b, const_iterator e, size_type &amp;n)
<a name="l01474"></a>01474    {
<a name="l01475"></a>01475       <span class="keywordflow">for</span>(n = 0; b != e; ++n)
<a name="l01476"></a>01476         this-&gt;<a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a5823d240f2cccf8276fa4d98e37bdbb7">erase</a>(b++);
<a name="l01477"></a>01477       <span class="keywordflow">return</span> b.unconst();
<a name="l01478"></a>01478    }
<a name="l01480"></a>01480 
<a name="l01481"></a>01481    <span class="keyword">private</span>:
<a name="l01482"></a>01482    <span class="keyword">static</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a301af544273a2b3e929db8b898f6caaf">treap_impl</a> &amp;priv_container_from_end_iterator(<span class="keyword">const</span> const_iterator &amp;end_iterator)
<a name="l01483"></a>01483    {
<a name="l01484"></a>01484       header_plus_size *r = detail::parent_from_member&lt;header_plus_size, node&gt;
<a name="l01485"></a>01485          ( detail::boost_intrusive_get_pointer(end_iterator.pointed_node()), &amp;header_plus_size::header_);
<a name="l01486"></a>01486       <span class="keyword">typename</span> node_plus_pred_t::header_plus_priority_size *n =
<a name="l01487"></a>01487          detail::parent_from_member
<a name="l01488"></a>01488          &lt; <span class="keyword">typename</span> node_plus_pred_t::header_plus_priority_size
<a name="l01489"></a>01489          , header_plus_size&gt;
<a name="l01490"></a>01490          (r, &amp;node_plus_pred_t::header_plus_priority_size::header_plus_size_);
<a name="l01491"></a>01491       node_plus_pred_t *pn = detail::parent_from_member
<a name="l01492"></a>01492          &lt; node_plus_pred_t
<a name="l01493"></a>01493          , <span class="keyword">typename</span> node_plus_pred_t::header_plus_priority_size&gt;
<a name="l01494"></a>01494          (n, &amp;node_plus_pred_t::header_plus_priority_size_);
<a name="l01495"></a>01495       data_t *d = detail::parent_from_member&lt;data_t, node_plus_pred_t&gt;(pn, &amp;data_t::node_plus_pred_);
<a name="l01496"></a>01496       <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a301af544273a2b3e929db8b898f6caaf">treap_impl</a> *tr  = detail::parent_from_member&lt;treap_impl, data_t&gt;(d, &amp;treap_impl::data_);
<a name="l01497"></a>01497       <span class="keywordflow">return</span> *tr;
<a name="l01498"></a>01498    }
<a name="l01499"></a>01499 
<a name="l01500"></a>01500    <span class="keyword">static</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html#a301af544273a2b3e929db8b898f6caaf">treap_impl</a> &amp;priv_container_from_iterator(<span class="keyword">const</span> const_iterator &amp;it)
<a name="l01501"></a>01501    {  <span class="keywordflow">return</span> priv_container_from_end_iterator(it.end_iterator_from_it());   }
<a name="l01502"></a>01502 };
<a name="l01503"></a>01503 
<a name="l01504"></a>01504 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01505"></a>01505 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01506"></a>01506 <span class="preprocessor">#else</span>
<a name="l01507"></a>01507 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Config&gt;
<a name="l01508"></a>01508 <span class="preprocessor">#endif</span>
<a name="l01509"></a>01509 <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <span class="keyword">operator</span>&lt;
<a name="l01510"></a>01510 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01511"></a>01511 <span class="preprocessor"></span>(<span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;y)
<a name="l01512"></a>01512 #<span class="keywordflow">else</span>
<a name="l01513"></a>01513 (<span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;y)
<a name="l01514"></a>01514 <span class="preprocessor">#endif</span>
<a name="l01515"></a>01515 <span class="preprocessor"></span>{  <span class="keywordflow">return</span> std::lexicographical_compare(x.begin(), x.end(), y.begin(), y.end());  }
<a name="l01516"></a>01516 
<a name="l01517"></a>01517 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01518"></a>01518 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01519"></a>01519 <span class="preprocessor">#else</span>
<a name="l01520"></a>01520 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Config&gt;
<a name="l01521"></a>01521 <span class="preprocessor">#endif</span>
<a name="l01522"></a>01522 <span class="preprocessor"></span><span class="keywordtype">bool</span> <span class="keyword">operator</span>==
<a name="l01523"></a>01523 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01524"></a>01524 <span class="preprocessor"></span>(<span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;y)
<a name="l01525"></a>01525 #<span class="keywordflow">else</span>
<a name="l01526"></a>01526 (<span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;y)
<a name="l01527"></a>01527 <span class="preprocessor">#endif</span>
<a name="l01528"></a>01528 <span class="preprocessor"></span>{
<a name="l01529"></a>01529    <span class="keyword">typedef</span> treap_impl&lt;Config&gt; tree_type;
<a name="l01530"></a>01530    <span class="keyword">typedef</span> <span class="keyword">typename</span> tree_type::const_iterator const_iterator;
<a name="l01531"></a>01531 
<a name="l01532"></a>01532    <span class="keywordflow">if</span>(tree_type::constant_time_size &amp;&amp; x.size() != y.size()){
<a name="l01533"></a>01533       <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01534"></a>01534    }
<a name="l01535"></a>01535    const_iterator end1 = x.end();
<a name="l01536"></a>01536    const_iterator i1 = x.begin();
<a name="l01537"></a>01537    const_iterator i2 = y.begin();
<a name="l01538"></a>01538    <span class="keywordflow">if</span>(tree_type::constant_time_size){
<a name="l01539"></a>01539       <span class="keywordflow">while</span> (i1 != end1 &amp;&amp; *i1 == *i2) {
<a name="l01540"></a>01540          ++i1;
<a name="l01541"></a>01541          ++i2;
<a name="l01542"></a>01542       }
<a name="l01543"></a>01543       <span class="keywordflow">return</span> i1 == end1;
<a name="l01544"></a>01544    }
<a name="l01545"></a>01545    <span class="keywordflow">else</span>{
<a name="l01546"></a>01546       const_iterator end2 = y.end();
<a name="l01547"></a>01547       <span class="keywordflow">while</span> (i1 != end1 &amp;&amp; i2 != end2 &amp;&amp; *i1 == *i2) {
<a name="l01548"></a>01548          ++i1;
<a name="l01549"></a>01549          ++i2;
<a name="l01550"></a>01550       }
<a name="l01551"></a>01551       <span class="keywordflow">return</span> i1 == end1 &amp;&amp; i2 == end2;
<a name="l01552"></a>01552    }
<a name="l01553"></a>01553 }
<a name="l01554"></a>01554 
<a name="l01555"></a>01555 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01556"></a>01556 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01557"></a>01557 <span class="preprocessor">#else</span>
<a name="l01558"></a>01558 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Config&gt;
<a name="l01559"></a>01559 <span class="preprocessor">#endif</span>
<a name="l01560"></a>01560 <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <span class="keyword">operator</span>!=
<a name="l01561"></a>01561 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01562"></a>01562 <span class="preprocessor"></span>(<span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;y)
<a name="l01563"></a>01563 #<span class="keywordflow">else</span>
<a name="l01564"></a>01564 (<span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;y)
<a name="l01565"></a>01565 <span class="preprocessor">#endif</span>
<a name="l01566"></a>01566 <span class="preprocessor"></span>{  <span class="keywordflow">return</span> !(x == y); }
<a name="l01567"></a>01567 
<a name="l01568"></a>01568 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01569"></a>01569 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01570"></a>01570 <span class="preprocessor">#else</span>
<a name="l01571"></a>01571 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Config&gt;
<a name="l01572"></a>01572 <span class="preprocessor">#endif</span>
<a name="l01573"></a>01573 <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <span class="keyword">operator</span>&gt;
<a name="l01574"></a>01574 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01575"></a>01575 <span class="preprocessor"></span>(<span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;y)
<a name="l01576"></a>01576 #<span class="keywordflow">else</span>
<a name="l01577"></a>01577 (<span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;y)
<a name="l01578"></a>01578 <span class="preprocessor">#endif</span>
<a name="l01579"></a>01579 <span class="preprocessor"></span>{  <span class="keywordflow">return</span> y &lt; x;  }
<a name="l01580"></a>01580 
<a name="l01581"></a>01581 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01582"></a>01582 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01583"></a>01583 <span class="preprocessor">#else</span>
<a name="l01584"></a>01584 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Config&gt;
<a name="l01585"></a>01585 <span class="preprocessor">#endif</span>
<a name="l01586"></a>01586 <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <span class="keyword">operator</span>&lt;=
<a name="l01587"></a>01587 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01588"></a>01588 <span class="preprocessor"></span>(<span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;y)
<a name="l01589"></a>01589 #<span class="keywordflow">else</span>
<a name="l01590"></a>01590 (<span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;y)
<a name="l01591"></a>01591 <span class="preprocessor">#endif</span>
<a name="l01592"></a>01592 <span class="preprocessor"></span>{  <span class="keywordflow">return</span> !(y &lt; x);  }
<a name="l01593"></a>01593 
<a name="l01594"></a>01594 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01595"></a>01595 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01596"></a>01596 <span class="preprocessor">#else</span>
<a name="l01597"></a>01597 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Config&gt;
<a name="l01598"></a>01598 <span class="preprocessor">#endif</span>
<a name="l01599"></a>01599 <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">bool</span> <span class="keyword">operator</span>&gt;=
<a name="l01600"></a>01600 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01601"></a>01601 <span class="preprocessor"></span>(<span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;T, Options...&gt; &amp;y)
<a name="l01602"></a>01602 #<span class="keywordflow">else</span>
<a name="l01603"></a>01603 (<span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;x, <span class="keyword">const</span> treap_impl&lt;Config&gt; &amp;y)
<a name="l01604"></a>01604 <span class="preprocessor">#endif</span>
<a name="l01605"></a>01605 <span class="preprocessor"></span>{  <span class="keywordflow">return</span> !(x &lt; y);  }
<a name="l01606"></a>01606 
<a name="l01607"></a>01607 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01608"></a>01608 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01609"></a>01609 <span class="preprocessor">#else</span>
<a name="l01610"></a>01610 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> Config&gt;
<a name="l01611"></a>01611 <span class="preprocessor">#endif</span>
<a name="l01612"></a>01612 <span class="preprocessor"></span><span class="keyword">inline</span> <span class="keywordtype">void</span> swap
<a name="l01613"></a>01613 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED)</span>
<a name="l01614"></a>01614 <span class="preprocessor"></span>(treap_impl&lt;T, Options...&gt; &amp;x, treap_impl&lt;T, Options...&gt; &amp;y)
<a name="l01615"></a>01615 #<span class="keywordflow">else</span>
<a name="l01616"></a>01616 (treap_impl&lt;Config&gt; &amp;x, treap_impl&lt;Config&gt; &amp;y)
<a name="l01617"></a>01617 <span class="preprocessor">#endif</span>
<a name="l01618"></a>01618 <span class="preprocessor"></span>{  x.swap(y);  }
<a name="l01619"></a>01619 
<a name="l01621"></a>01621 <span class="preprocessor">#if !defined(BOOST_INTRUSIVE_VARIADIC_TEMPLATES)</span>
<a name="l01622"></a>01622 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>O1 = none, <span class="keyword">class </span>O2 = none
<a name="l01623"></a>01623                 , <span class="keyword">class </span>O3 = none, <span class="keyword">class </span>O4 = none
<a name="l01624"></a>01624                 &gt;
<a name="l01625"></a>01625 <span class="preprocessor">#else</span>
<a name="l01626"></a>01626 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01627"></a>01627 <span class="preprocessor">#endif</span>
<a name="l01628"></a>01628 <span class="preprocessor"></span><span class="keyword">struct </span>make_treap_opt
<a name="l01629"></a>01629 {
<a name="l01630"></a>01630    <span class="keyword">typedef</span> <span class="keyword">typename</span> pack_options
<a name="l01631"></a>01631       &lt; treap_set_defaults&lt;T&gt;, 
<a name="l01632"></a>01632 <span class="preprocessor">      #if !defined(BOOST_INTRUSIVE_VARIADIC_TEMPLATES)</span>
<a name="l01633"></a>01633 <span class="preprocessor"></span>      O1, O2, O3, O4
<a name="l01634"></a>01634 <span class="preprocessor">      #else</span>
<a name="l01635"></a>01635 <span class="preprocessor"></span>      Options...
<a name="l01636"></a>01636       #endif
<a name="l01637"></a>01637       &gt;::type packed_options;
<a name="l01638"></a>01638    <span class="keyword">typedef</span> <span class="keyword">typename</span> detail::get_value_traits
<a name="l01639"></a>01639       &lt;T, <span class="keyword">typename</span> packed_options::value_traits&gt;::type value_traits;
<a name="l01640"></a>01640 
<a name="l01641"></a>01641    <span class="keyword">typedef</span> treap_setopt
<a name="l01642"></a>01642          &lt; value_traits
<a name="l01643"></a>01643          , <span class="keyword">typename</span> packed_options::compare
<a name="l01644"></a>01644          , <span class="keyword">typename</span> packed_options::priority
<a name="l01645"></a>01645          , <span class="keyword">typename</span> packed_options::size_type
<a name="l01646"></a>01646          , packed_options::constant_time_size
<a name="l01647"></a>01647          &gt; type;
<a name="l01648"></a>01648 };
<a name="l01650"></a>01650 
<a name="l01653"></a>01653 <span class="preprocessor">#if defined(BOOST_INTRUSIVE_DOXYGEN_INVOKED) || defined(BOOST_INTRUSIVE_VARIADIC_TEMPLATES)</span>
<a name="l01654"></a>01654 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01655"></a>01655 <span class="preprocessor">#else</span>
<a name="l01656"></a>01656 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>O1 = none, <span class="keyword">class </span>O2 = none
<a name="l01657"></a>01657                 , <span class="keyword">class </span>O3 = none, <span class="keyword">class </span>O4 = none&gt;
<a name="l01658"></a>01658 <span class="preprocessor">#endif</span>
<a name="l01659"></a><a class="code" href="structboost_1_1intrusive_1_1make__trie.html">01659</a> <span class="preprocessor"></span><span class="keyword">struct </span><a class="code" href="structboost_1_1intrusive_1_1make__trie.html">make_trie</a>
<a name="l01660"></a>01660 {
<a name="l01662"></a>01662    <span class="keyword">typedef</span> <a class="code" href="classboost_1_1intrusive_1_1treap__impl.html">treap_impl</a>
<a name="l01663"></a>01663       &lt; <span class="keyword">typename</span> make_treap_opt&lt;T, 
<a name="l01664"></a>01664 <span class="preprocessor">         #if !defined(BOOST_INTRUSIVE_VARIADIC_TEMPLATES)</span>
<a name="l01665"></a>01665 <span class="preprocessor"></span>         O1, O2, O3, O4
<a name="l01666"></a>01666 <span class="preprocessor">         #else</span>
<a name="l01667"></a>01667 <span class="preprocessor"></span>         Options...
<a name="l01668"></a>01668          #endif
<a name="l01669"></a>01669          &gt;::type
<a name="l01670"></a>01670       &gt; implementation_defined;
<a name="l01672"></a>01672    <span class="keyword">typedef</span> implementation_defined type;
<a name="l01673"></a>01673 };
<a name="l01674"></a>01674 
<a name="l01675"></a>01675 <span class="preprocessor">#ifndef BOOST_INTRUSIVE_DOXYGEN_INVOKED</span>
<a name="l01676"></a>01676 <span class="preprocessor"></span>
<a name="l01677"></a>01677 <span class="preprocessor">#if !defined(BOOST_INTRUSIVE_VARIADIC_TEMPLATES)</span>
<a name="l01678"></a>01678 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> O1, <span class="keyword">class</span> O2, <span class="keyword">class</span> O3, <span class="keyword">class</span> O4&gt;
<a name="l01679"></a>01679 <span class="preprocessor">#else</span>
<a name="l01680"></a>01680 <span class="preprocessor"></span><span class="keyword">template</span>&lt;<span class="keyword">class </span>T, <span class="keyword">class </span>...Options&gt;
<a name="l01681"></a>01681 <span class="preprocessor">#endif</span>
<a name="l01682"></a><a class="code" href="classboost_1_1intrusive_1_1treap.html">01682</a> <span class="preprocessor"></span><span class="keyword">class </span><a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a>
<a name="l01683"></a>01683    :  <span class="keyword">public</span> <a class="code" href="structboost_1_1intrusive_1_1make__trie.html">make_trie</a>&lt;T, 
<a name="l01684"></a>01684       #if !defined(BOOST_INTRUSIVE_VARIADIC_TEMPLATES)
<a name="l01685"></a>01685       O1, O2, O3, O4
<a name="l01686"></a>01686       #else
<a name="l01687"></a>01687       Options...
<a name="l01688"></a>01688       #endif
<a name="l01689"></a>01689       &gt;::type
<a name="l01690"></a>01690 {
<a name="l01691"></a>01691    <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="structboost_1_1intrusive_1_1make__trie.html">make_trie</a>
<a name="l01692"></a>01692       &lt;T, 
<a name="l01693"></a>01693 <span class="preprocessor">      #if !defined(BOOST_INTRUSIVE_VARIADIC_TEMPLATES)</span>
<a name="l01694"></a>01694 <span class="preprocessor"></span>      O1, O2, O3, O4
<a name="l01695"></a>01695 <span class="preprocessor">      #else</span>
<a name="l01696"></a>01696 <span class="preprocessor"></span>      Options...
<a name="l01697"></a>01697       #endif
<a name="l01698"></a>01698       &gt;::type   Base;
<a name="l01699"></a>01699 
<a name="l01700"></a>01700    <span class="keyword">public</span>:
<a name="l01701"></a>01701    <span class="keyword">typedef</span> <span class="keyword">typename</span> Base::value_compare      value_compare;
<a name="l01702"></a>01702    <span class="keyword">typedef</span> <span class="keyword">typename</span> Base::priority_compare   priority_compare;
<a name="l01703"></a>01703    <span class="keyword">typedef</span> <span class="keyword">typename</span> Base::value_traits       value_traits;
<a name="l01704"></a>01704    <span class="keyword">typedef</span> <span class="keyword">typename</span> Base::real_value_traits  real_value_traits;
<a name="l01705"></a>01705    <span class="keyword">typedef</span> <span class="keyword">typename</span> Base::iterator           iterator;
<a name="l01706"></a>01706    <span class="keyword">typedef</span> <span class="keyword">typename</span> Base::const_iterator     const_iterator;
<a name="l01707"></a>01707 
<a name="l01708"></a>01708    <span class="comment">//Assert if passed value traits are compatible with the type</span>
<a name="l01709"></a>01709    BOOST_STATIC_ASSERT((<a class="code" href="structboost_1_1intrusive_1_1detail_1_1is__same.html">detail::is_same&lt;typename real_value_traits::value_type, T&gt;::value</a>));
<a name="l01710"></a>01710 
<a name="l01711"></a>01711    <a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a>( <span class="keyword">const</span> value_compare &amp;cmp = value_compare()
<a name="l01712"></a>01712        , <span class="keyword">const</span> priority_compare &amp;pcmp = priority_compare()
<a name="l01713"></a>01713        , <span class="keyword">const</span> value_traits &amp;v_traits = value_traits())
<a name="l01714"></a>01714       :  Base(cmp, pcmp, v_traits)
<a name="l01715"></a>01715    {}
<a name="l01716"></a>01716 
<a name="l01717"></a>01717    <span class="keyword">template</span>&lt;<span class="keyword">class</span> Iterator&gt;
<a name="l01718"></a>01718    <a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a>( <span class="keywordtype">bool</span> unique, Iterator b, Iterator e
<a name="l01719"></a>01719        , <span class="keyword">const</span> value_compare &amp;cmp = value_compare()
<a name="l01720"></a>01720        , <span class="keyword">const</span> priority_compare &amp;pcmp = priority_compare()
<a name="l01721"></a>01721        , <span class="keyword">const</span> value_traits &amp;v_traits = value_traits())
<a name="l01722"></a>01722       :  Base(unique, b, e, cmp, pcmp, v_traits)
<a name="l01723"></a>01723    {}
<a name="l01724"></a>01724 
<a name="l01725"></a>01725    <span class="keyword">static</span> <a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a> &amp;container_from_end_iterator(iterator end_iterator)
<a name="l01726"></a>01726    {  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a> &amp;<span class="keyword">&gt;</span>(Base::container_from_end_iterator(end_iterator));   }
<a name="l01727"></a>01727 
<a name="l01728"></a>01728    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a> &amp;container_from_end_iterator(const_iterator end_iterator)
<a name="l01729"></a>01729    {  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a> &amp;<span class="keyword">&gt;</span>(Base::container_from_end_iterator(end_iterator));   }
<a name="l01730"></a>01730 
<a name="l01731"></a>01731    <span class="keyword">static</span> <a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a> &amp;container_from_it(iterator it)
<a name="l01732"></a>01732    {  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a> &amp;<span class="keyword">&gt;</span>(Base::container_from_iterator(it));   }
<a name="l01733"></a>01733 
<a name="l01734"></a>01734    <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a> &amp;container_from_it(const_iterator it)
<a name="l01735"></a>01735    {  <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keyword">const </span><a class="code" href="classboost_1_1intrusive_1_1treap.html">treap</a> &amp;<span class="keyword">&gt;</span>(Base::container_from_iterator(it));   }
<a name="l01736"></a>01736 };
<a name="l01737"></a>01737 
<a name="l01738"></a>01738 <span class="preprocessor">#endif</span>
<a name="l01739"></a>01739 <span class="preprocessor"></span>
<a name="l01740"></a>01740 
<a name="l01741"></a>01741 } <span class="comment">//namespace intrusive </span>
<a name="l01742"></a>01742 } <span class="comment">//namespace boost </span>
<a name="l01743"></a>01743 
<a name="l01744"></a>01744 <span class="preprocessor">#include &lt;boost/intrusive/detail/config_end.hpp&gt;</span>
<a name="l01745"></a>01745 
<a name="l01746"></a>01746 <span class="preprocessor">#endif //BOOST_INTRUSIVE_TRIE_HPP</span>
</pre></div></div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr class="footer"/><address class="footer"><small>Generated on Wed Apr 27 2011 00:50:08 for Nutcracker by&#160;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.2 </small></address>
</body>
</html>
